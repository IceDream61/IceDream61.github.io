<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<title>筛法求素数</title>
<link rel="stylesheet" href="../Resources/GitHub2.css">
<link rel="stylesheet" href="../Resources/prism.css">
</head>

<body>

<h1>筛法求素数</h1>

<pre>
<code class="language-cpp">
#include&#160;&#60;cstdio&#62;
#include&#160;&#60;cmath&#62;
using&#160;namespace&#160;std;

const&#160;int&#160;maxnum&#160;=&#160;1000;

bool&#160;d[maxnum+1];
int&#160;primes[maxnum],&#160;primeCount;&#160;//&#160;这个上界足够了，再小不大能确定如何缩小范围

void&#160;init1()&#160;{
&#160;&#160;&#160;&#160;for(int&#160;i=0;i&#60;=maxnum;++i)&#160;d[i]=true;
&#160;&#160;&#160;&#160;d[0]=d[1]=false;
&#160;&#160;&#160;&#160;for(int&#160;i=2;i&#60;=sqrt(maxnum);++i)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(d[i])
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;for(int&#160;j=i+i;j&#60;=maxnum;j+=i)&#160;d[j]=false;
}
void&#160;init2()&#160;{
&#160;&#160;&#160;&#160;primeCount=0;
&#160;&#160;&#160;&#160;for(int&#160;i=2;i&#60;=maxnum;++i)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(d[i])&#160;primes[primeCount++]=i;
}

void&#160;print1()&#160;{
&#160;&#160;&#160;&#160;for(int&#160;i=0;i&#60;=maxnum;++i)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(d[i])&#160;printf(&#34;%5d&#34;,&#160;i);
&#160;&#160;&#160;&#160;printf(&#34;\n&#34;);
}
void&#160;print2()&#160;{
&#160;&#160;&#160;&#160;for(int&#160;i=0;i&#60;primeCount;++i)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printf(&#34;%5d&#34;,&#160;primes[i]);
&#160;&#160;&#160;&#160;printf(&#34;\n&#34;);
}

int&#160;main()&#160;{
&#160;&#160;&#160;&#160;init1();
&#160;&#160;&#160;&#160;print1();
&#160;&#160;&#160;&#160;init2();
&#160;&#160;&#160;&#160;print2();
&#160;&#160;&#160;&#160;return&#160;0;
}


</code>
</pre>

<script type="text/javascript" src="../Resources/mathjax.js"></script>
<script type="text/x-mathjax-config">
if (typeof MathJaxListener !== 'undefined') {
  MathJax.Hub.Register.StartupHook('End', function () {
    MathJaxListener.invokeCallbackForKey_('End');
  });
}
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="../Resources/prism.js"></script>
</body>

</html>
