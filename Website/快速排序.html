<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<title>快速排序</title>
<link rel="stylesheet" href="../Resources/GitHub2.css">
<link rel="stylesheet" href="../Resources/prism.css">
</head>

<body>

<h1>快速排序</h1>

<pre>
<code class="language-cpp">
#include&#160;&#60;cstdio&#62;
using&#160;namespace&#160;std;

int&#160;mid(int&#160;a,&#160;int&#160;b,&#160;int&#160;c)&#160;{
&#160;&#160;&#160;&#160;//&#160;version&#160;3
&#160;&#160;&#160;&#160;bool&#160;tab=a&#60;b,&#160;tac=a&#60;c,&#160;tbc=b&#60;c;
&#160;&#160;&#160;&#160;return&#160;(tab^tac)?a:((tac^tbc)?c:b);

&#160;&#160;&#160;&#160;//&#160;version&#160;2
&#160;&#160;&#160;&#160;//&#160;bool&#160;tab=a&#60;b,&#160;tac=a&#60;c,&#160;tbc=b&#60;c;
&#160;&#160;&#160;&#160;//&#160;if(!tab&#160;&#38;&#38;&#160;!tac&#160;&#38;&#38;&#160;!tbc)&#160;return&#160;b;
&#160;&#160;&#160;&#160;//&#160;if(!tab&#160;&#38;&#38;&#160;!tac&#160;&#38;&#38;&#160;tbc)&#160;return&#160;c;
&#160;&#160;&#160;&#160;//&#160;if(!tab&#160;&#38;&#38;&#160;tac&#160;&#38;&#38;&#160;tbc)&#160;return&#160;a;
&#160;&#160;&#160;&#160;//&#160;if(tab&#160;&#38;&#38;&#160;!tac&#160;&#38;&#38;&#160;!tbc)&#160;return&#160;a;
&#160;&#160;&#160;&#160;//&#160;if(tab&#160;&#38;&#38;&#160;tac&#160;&#38;&#38;&#160;!tbc)&#160;return&#160;c;
&#160;&#160;&#160;&#160;//&#160;if(tab&#160;&#38;&#38;&#160;tac&#160;&#38;&#38;&#160;tbc)&#160;return&#160;b;
&#160;&#160;&#160;&#160;//&#160;return&#160;b;&#160;//&#160;剩余两种情况是不可能的，但有相等数的情况我没细考虑，因此随便返回一个

&#160;&#160;&#160;&#160;//&#160;version&#160;1
&#160;&#160;&#160;&#160;//&#160;if(a&#60;b&#160;&#38;&#38;&#160;b&#60;c&#160;||&#160;a&#62;b&#160;&#38;&#38;&#160;b&#62;c)&#160;return&#160;b;
&#160;&#160;&#160;&#160;//&#160;if(a&#60;c&#160;&#38;&#38;&#160;c&#60;b&#160;||&#160;a&#62;c&#160;&#38;&#38;&#160;c&#62;b)&#160;return&#160;c;
&#160;&#160;&#160;&#160;//&#160;return&#160;a;
}

void&#160;swap(int&#160;&#38;x,&#160;int&#160;&#38;y)&#160;{
&#160;&#160;&#160;&#160;//&#160;version&#160;3
&#160;&#160;&#160;&#160;if(&#38;x==&#38;y)&#160;return;
&#160;&#160;&#160;&#160;x^=y^=x^=y;

&#160;&#160;&#160;&#160;//&#160;version&#160;2
&#160;&#160;&#160;&#160;//&#160;if(&#38;x==&#38;y)&#160;return;
&#160;&#160;&#160;&#160;//&#160;x^=y;
&#160;&#160;&#160;&#160;//&#160;y^=x;
&#160;&#160;&#160;&#160;//&#160;x^=y;

&#160;&#160;&#160;&#160;//&#160;version&#160;1
&#160;&#160;&#160;&#160;//&#160;int&#160;t=x;&#160;x=y;&#160;y=t;
}

void&#160;qsort(int&#160;a[],&#160;int&#160;l,&#160;int&#160;r)&#160;{
&#160;&#160;&#160;&#160;if(l&#62;=r)&#160;return;
&#160;&#160;&#160;&#160;for(int&#160;i=l,j=r,x=mid(a[l],a[r],a[(l+r)&#62;&#62;1]);;swap(a[l++],a[r--]))&#160;{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while(a[l]&#60;x)&#160;++l;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while(a[r]&#62;x)&#160;--r;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(l&#62;r)&#160;{&#160;qsort(a,l,j);&#160;qsort(a,i,r);&#160;return;&#160;}
&#160;&#160;&#160;&#160;}
}

int&#160;main()&#160;{
&#160;&#160;&#160;&#160;int&#160;a[10]={3,7,1,4,6,9,2,5,8,6};
&#160;&#160;&#160;&#160;for(int&#160;i=0;i&#60;10;++i)&#160;printf(&#34;%d&#160;&#34;,a[i]);&#160;printf(&#34;\n&#34;);
&#160;&#160;&#160;&#160;qsort(a,0,9);
&#160;&#160;&#160;&#160;for(int&#160;i=0;i&#60;10;++i)&#160;printf(&#34;%d&#160;&#34;,a[i]);&#160;printf(&#34;\n&#34;);
&#160;&#160;&#160;&#160;return&#160;0;
}


</code>
</pre>

<script type="text/javascript" src="../Resources/mathjax.js"></script>
<script type="text/x-mathjax-config">
if (typeof MathJaxListener !== 'undefined') {
  MathJax.Hub.Register.StartupHook('End', function () {
    MathJaxListener.invokeCallbackForKey_('End');
  });
}
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="../Resources/prism.js"></script>
</body>

</html>
