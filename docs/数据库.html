<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>数据库</title>
    <link rel="Stylesheet" type="text/css" href="./css/style.css" />
    <link rel="stylesheet" type="text/css" href="./google-code-prettify/prettify.css" >
    <!-- add more style sheets and javascripts -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-148355587-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-148355587-1');
</script>

</head>
<body>
<!--<body onload="prettyPrint()">-->

<div class="content">

<p>
%toc
</p>

<div id="存疑"><h1 id="存疑" class="header"><a href="#存疑">存疑</a></h1></div>
<ul>
<li>
Chapter5, 44, EDB and IDB

<li>
Chapter6-BasicQuery, 29~32, Operational Semantics

</ul>

<div id="知识目录"><h1 id="知识目录" class="header"><a href="#知识目录">知识目录</a></h1></div>
<ol>
<li>
Introduction

<li>
Relational Model

<ol>
<li>
Terms

<li>
Algebra (or called Operations)

</ol>
<li>
Design Theory of Relational Model

<ol>
<li>
FD, MVD and Normal Forms

</ol>
<li>
High-Level Database Models

<ol>
<li>
E/R Model

<li>
UML

<li>
ODL

</ol>
<li>
Logic Query Languages

<ol>
<li>
Datalog

<li>
Comparation of Relational Algebra and Datalog Algebra

</ol>
<li>
Database Langrage -- SQL

<ol>
<li>
Sentences

<ol>
<li>
Basic Query

<li>
Subquery, Aggregation

<li>
Join, Modification

</ol>
<li>
Transaction

</ol>
<li>
Constraints and Triggers

<ol>
<li>
Keys and Foreign Keys

<li>
Constraints on attributes and tuples

<li>
Modification of constraints

<li>
Assertions

<li>
Triggers

</ol>
<li>
Views and Indexes

<ol>
<li>
Views (virtual and materialized)

<li>
Updatable views

<li>
Indexes (creation, use) (B-tree, no standard)

</ol>
<li>


</ol>

<div id="知识体系"><h1 id="知识体系" class="header"><a href="#知识体系">知识体系</a></h1></div>
<div id="知识体系-Normal Form"><h2 id="Normal Form" class="header"><a href="#知识体系-Normal Form" class="justcenter">Normal Form</a></h2></div>
<ul>
<li>
UNF: 全放一张表里，选个key

<li>
1NF \(\leftarrow\) Repeating Attributes Removed: 让key成为真的key，能够唯一确定一个tuple

<li>
2NF \(\leftarrow\) Partial Key Dependencies Removed: 消除key-nonkey's FD

<li>
3NF \(\leftarrow\) Non-Key Dependencies Removed: 消除nonkey-nonkey's FD

<li>
BCNF \(\leftarrow\) Dependencies between Keys Removed: 消除key-key's FD

<li>
4NF \(\leftarrow\) Dependencies between Key Sets Removed: 消除MVD

<li>
5NF, PJNF 暂未理解，参考：<a href=" https://en.wikipedia.org/wiki/Fifth_normal_form .html">wikipedia</a>

<li>
RNFN; SKNF; 6NF 还未看，参考：<a href=" http://blog.csdn.net/air_ship/article/details/19508031 .html">《数据库范式 1NF，2NF，3NF，BCNF，4NF，RFNF，SKNF，5NF，6NF》</a>

</ul>
    
<div id="知识体系-Relational Algebra"><h2 id="Relational Algebra" class="header"><a href="#知识体系-Relational Algebra" class="justcenter">Relational Algebra</a></h2></div>
<ul>
<li>
Operands: relations

<li>
Base Operators:

<ul>
<li>
Union: \(U\)

<li>
Selection: \(\sigma_C\)

<li>
Projection: \(\pi_L\)

<li>
Products and Joins: \(\times, \Join, \Join_C\)

<li>
Renaming: \(\rho_{&lt;table-name, all-need-attributes&gt;}\)

</ul>
<li>
Type:

<ul>
<li>
Set

<li>
Bag

</ul>
<li>
Extended (Nonclassical) Operators:

<ul>
<li>
Duplicate-elimination(去重): \(\delta\)

<li>
Extended projection(可加由函数生成的新列), \(\pi_L\)

<li>
Sorting(以某些列为关键字排序): \(\tau_L\)

<li>
Grouping-and-Aggregation: \(\gamma\)

<ul>
<li>
Aggregation: Apply a function to all tuples in one column, such as: SUM, AVG, COUNT, MIN, MAX

<li>
Grouping-and-Aggregation: Group with some columns and aggregation some other columns.

</ul>
<li>
Outerjoin: \(\Join^o\)

<ul>
<li>
Join with NULL in empty cells, so that won't lose any information.

</ul>
</ul>
</ul>
    
<div id="知识体系-Datalog"><h2 id="Datalog" class="header"><a href="#知识体系-Datalog" class="justcenter">Datalog</a></h2></div>
<ul>
<li>
This form of logic allows us to write queries in the relational model.

<li>
Rule: head \(\leftarrow\) subgoals, they are atoms, and an atom consists of an predicate applied to some number of arguments.

<li>
IDB and EDB

<li>
Intensional Database and Extensional Database

<li>
Relational algebra and datalog

</ul>

<div id="知识体系-SQL Language"><h2 id="SQL Language" class="header"><a href="#知识体系-SQL Language" class="justcenter">SQL Language</a></h2></div>
<div id="知识体系-SQL Language-Basic Knowledge"><h3 id="Basic Knowledge" class="header"><a href="#知识体系-SQL Language-Basic Knowledge">Basic Knowledge</a></h3></div>
<ul>
<li>
<img src="../text/ local:../image/数据库/2.png "  style="width: 1000px"  />

<li>
SQL is case insensitive

<ul>
<li>
Only inside quoted strings does case matter

</ul>
<li>
<img src="../text/ local:../image/数据库/1.png "  style="width: 1000px"  />

<li>
<img src="../text/ local:../image/数据库/3.png "  style="width: 1000px"  />

<li>
<img src="../text/ local:../image/数据库/4.png "  style="width: 1000px"  />

<li>
<img src="../text/ local:../image/数据库/5.png "  style="width: 1000px"  />

<li>
<img src="../text/ local:../image/数据库/6.png "  style="width: 1000px"  />

</ul>

<div id="知识体系-SQL Language-Transaction"><h3 id="Transaction" class="header"><a href="#知识体系-SQL Language-Transaction">Transaction</a></h3></div>
<ul>
<li>
Enviroment: One DBMS, Many Users

<li>
Transaction: A transaction is a sequence of one or more SQL operations treated as a unit.

<ul>
<li>
Result: Commit or Rollback

<li>
ACID Transaction:

<ul>
<li>
Atomic : Whole transaction or none is done.

<li>
Consistent : Database constraints preserved.

<li>
Isolated : It appears to the user as if only one process executes at a time.

<li>
Durable : Effects of a process survive a crash.

</ul>
<li>
Isolation Level:

<ul>
<li>
<code>SET TRANSACTION ISOLATION LEVEL X = &lt;following&gt;</code>

<ol>
<li>
SERIALIZABLE

<li>
REPEATABLE READ: with <span id="知识体系-SQL Language-Transaction-phantoms"></span><strong id="phantoms">phantoms</strong>

<li>
READ COMMITTED: with <span id="知识体系-SQL Language-Transaction-nonrepeatable reads"></span><strong id="nonrepeatable reads">nonrepeatable reads</strong>, <span id="知识体系-SQL Language-Transaction-phantoms"></span><strong id="phantoms">phantoms</strong>

<li>
READ UNCOMMITTED: with <span id="知识体系-SQL Language-Transaction-dirty reads"></span><strong id="dirty reads">dirty reads</strong>, <span id="知识体系-SQL Language-Transaction-nonrepeatable reads"></span><strong id="nonrepeatable reads">nonrepeatable reads</strong>, <span id="知识体系-SQL Language-Transaction-phantoms"></span><strong id="phantoms">phantoms</strong>

</ol>
<li>
This is personal choice.

<li>
Read only transactions

<ul>
<li>
<code>Set transaction read only;</code> (before set level)

<li>
Help system optimize performance

<li>
Independent of isolation level

</ul>
</ul>
</ul>
</ul>

<div id="知识体系-SQL Language-Summary"><h3 id="Summary" class="header"><a href="#知识体系-SQL Language-Summary">Summary</a></h3></div>
<ul>
<li>
<img src="../text/ local:../image/数据库/7.png "  style="width: 1000px"  />

<li>
<img src="../text/ local:../image/数据库/8.png "  style="width: 1000px"  />

<li>
<img src="../text/ local:../image/数据库/9.png "  style="width: 1000px"  />

</ul>
    
<div id="附录"><h1 id="附录" class="header"><a href="#附录">附录</a></h1></div>
<ul>
<li>
<a href=" http://www.sqa.org.uk/e-learning/SiteHomeCD/page_27.htm .html">SQA（苏格兰学历管理委员会）的教程</a> 挺棒的

<li>
<a href=" http://www.compositesw.com/data-virtualization/enterprise-information-integration/ .html">Enterprise Information Integration</a>

<li>
<a href=" http://www.w3school.com.cn/sql/ .html">w3school SQL 教程</a>

</ul>

</div>
   
    <script src="./js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
        $('pre').addClass('prettyprint linenums') 
        prettyPrint()})
    </script>
    <script src="./google-code-prettify/prettify.js"></script>

    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</body>
</html>
